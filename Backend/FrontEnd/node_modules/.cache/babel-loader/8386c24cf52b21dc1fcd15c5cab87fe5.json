{"ast":null,"code":"var _jsxFileName = \"/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/src/Blog/BlogContainer.js\";\nimport React from \"react\";\nimport Blog from \"./Blog.js\";\nimport BlogAdmin from \"./BlogAdmin.js\";\nimport \"../Syling/Styling.css\";\nexport default class extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: []\n    };\n\n    this.getLastIndexOfPosts = () => {\n      return this.state.posts[this.state.posts.length - 1];\n    };\n\n    this.createNewPost = postObject => {\n      const posts = { ...this.state.posts,\n        postObject\n      };\n      console.log(posts);\n      console.log(postObject);\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postObject)\n      };\n      fetch('api/blog/add', requestOptions).then(response => {\n        if (response.status !== 200) {\n          console.log(\"there is a problem yukka\");\n          return;\n        }\n      }); // .then(response => response.json())\n      // .then(data=>this.setState({posts:data}))\n    };\n\n    this.deletePost = post_id => {\n      const newState = this.state.posts.filter(x => x.id !== post_id);\n      const requestOptions = {\n        method: 'DELETE',\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: post_id\n        })\n      };\n      fetch('api/blog', requestOptions).then(this.setState({\n        posts: newState\n      }));\n    };\n  }\n\n  componentDidMount() {\n    fetch('/api/blog/').then(res => {\n      return res.json();\n    }).then(data => this.setState({\n      posts: data\n    }));\n  }\n\n  render() {\n    let posts = this.state.posts.map((post, i) => React.createElement(Blog, {\n      key: i,\n      id: post.id,\n      title: post.title,\n      content: post.content,\n      deletePost: this.deletePost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }));\n    return React.createElement(React.Fragment, null, posts, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"fuck you\"), React.createElement(BlogAdmin, {\n      createNewPost: this.createNewPost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/src/Blog/BlogContainer.js"],"names":["React","Blog","BlogAdmin","Component","state","posts","getLastIndexOfPosts","length","createNewPost","postObject","console","log","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","status","deletePost","post_id","newState","filter","x","id","setState","componentDidMount","res","json","data","render","map","post","i","title","content"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Blog from \"./Blog.js\";\nimport BlogAdmin from \"./BlogAdmin.js\";\nimport \"../Syling/Styling.css\";\n\nexport default class extends React.Component {\n    state = {\n        posts: []\n    }\n    componentDidMount() {\n        fetch('/api/blog/')\n            .then(res=>{return res.json()})\n            .then(data=>this.setState({posts:data}));\n    }\n    getLastIndexOfPosts=()=>{\n        return this.state.posts[this.state.posts.length-1]\n    }\n    createNewPost=(postObject)=>{\n        const posts = {\n            ...this.state.posts,\n            postObject\n        }\n        console.log(posts);\n        console.log(postObject);\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(postObject)\n        };\n        fetch('api/blog/add', requestOptions)\n            .then(response=>{\n                if(response.status !==200){\n                    console.log(\"there is a problem yukka\");\n                    return;\n                }\n            })\n\n            // .then(response => response.json())\n            // .then(data=>this.setState({posts:data}))\n    }\n    deletePost=(post_id)=>{\n        const newState = this.state.posts.filter(x=>x.id !== post_id);\n        const requestOptions={\n            method:'DELETE',\n            headers:{'Content-type':'application/json'},\n            body:JSON.stringify({id:post_id})\n        }\n        fetch('api/blog',requestOptions)\n            .then(this.setState({posts:newState}))\n    }\n    render() {\n        let posts = this.state.posts.map((post,i) =>\n                <Blog\n                    key={i}\n                    id={post.id}\n                    title={post.title}\n                    content={post.content}\n                    deletePost={this.deletePost}\n                />\n            );\n        return (\n            <>\n                {posts}\n                <p>fuck you</p>\n                <BlogAdmin\n                    createNewPost={this.createNewPost}\n                />\n            </>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}