{"ast":null,"code":"import _objectSpread from\"/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import Blog from\"./Blog.js\";import BlogAdmin from\"./BlogAdmin.js\";import\"../Syling/Styling.css\";var _default=/*#__PURE__*/function(_React$Component){_inherits(_default,_React$Component);function _default(){var _getPrototypeOf2;var _this;_classCallCheck(this,_default);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(_default)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={posts:[]};_this.getLastIndexOfPosts=function(){return _this.state.posts[_this.state.posts.length-1];};_this.createNewPost=function(postObject){var posts=_objectSpread({},_this.state.posts,{postObject:postObject});var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(postObject)};fetch('api/blog/add',requestOptions)// .then(response=>{\n//     if(response.status !==200){\n//         console.log(\"there is a problem yukka\");\n//         return;\n//     }\n//     console.log(response);\n// })\n.then(function(response){return response.json();}).then(function(data){return _this.setState({posts:data});});};_this.deletePost=function(post_id){var newState=_this.state.posts.filter(function(x){return x.id!==post_id;});var requestOptions={method:'DELETE',headers:{'Content-type':'application/json'},body:JSON.stringify({id:post_id})};fetch('api/blog',requestOptions).then(_this.setState({posts:newState}));};return _this;}_createClass(_default,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/api/blog/').then(function(res){return res.json();}).then(function(data){return _this2.setState({posts:data});});}},{key:\"render\",value:function render(){var _this3=this;var posts=this.state.posts.map(function(post,i){return React.createElement(Blog,{key:i,id:post.id,title:post.title,content:post.content,deletePost:_this3.deletePost});});return React.createElement(React.Fragment,null,posts,React.createElement(\"p\",null,\"fuck you\"),React.createElement(BlogAdmin,{createNewPost:this.createNewPost}));}}]);return _default;}(React.Component);export{_default as default};","map":{"version":3,"sources":["/Users/shawnmorreau/Desktop/shawnmorreau.github.io/Backend/FrontEnd/src/Blog/BlogContainer.js"],"names":["React","Blog","BlogAdmin","state","posts","getLastIndexOfPosts","length","createNewPost","postObject","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","setState","deletePost","post_id","newState","filter","x","id","res","map","post","i","title","content","Component"],"mappings":"ymCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,gBAAtB,CACA,MAAO,uBAAP,C,+ZAGIC,K,CAAQ,CACJC,KAAK,CAAE,EADH,C,OAQRC,mB,CAAoB,UAAI,CACpB,MAAO,OAAKF,KAAL,CAAWC,KAAX,CAAiB,MAAKD,KAAL,CAAWC,KAAX,CAAiBE,MAAjB,CAAwB,CAAzC,CAAP,CACH,C,OACDC,a,CAAc,SAACC,UAAD,CAAc,CACxB,GAAMJ,CAAAA,KAAK,kBACJ,MAAKD,KAAL,CAAWC,KADP,EAEPI,UAAU,CAAVA,UAFO,EAAX,CAIA,GAAMC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFU,CAGnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,UAAf,CAHa,CAAvB,CAKAO,KAAK,CAAC,cAAD,CAAiBN,cAAjB,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AAPJ,CASKO,IATL,CASU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EATlB,EAUKF,IAVL,CAUU,SAAAG,IAAI,QAAE,OAAKC,QAAL,CAAc,CAAChB,KAAK,CAACe,IAAP,CAAd,CAAF,EAVd,EAWH,C,OACDE,U,CAAW,SAACC,OAAD,CAAW,CAClB,GAAMC,CAAAA,QAAQ,CAAG,MAAKpB,KAAL,CAAWC,KAAX,CAAiBoB,MAAjB,CAAwB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACC,EAAF,GAASJ,OAAX,EAAzB,CAAjB,CACA,GAAMb,CAAAA,cAAc,CAAC,CACjBC,MAAM,CAAC,QADU,CAEjBC,OAAO,CAAC,CAAC,eAAe,kBAAhB,CAFS,CAGjBC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAe,CAACY,EAAE,CAACJ,OAAJ,CAAf,CAHY,CAArB,CAKAP,KAAK,CAAC,UAAD,CAAYN,cAAZ,CAAL,CACKO,IADL,CACU,MAAKI,QAAL,CAAc,CAAChB,KAAK,CAACmB,QAAP,CAAd,CADV,EAEH,C,iGAvCmB,iBAChBR,KAAK,CAAC,YAAD,CAAL,CACKC,IADL,CACU,SAAAW,GAAG,CAAE,CAAC,MAAOA,CAAAA,GAAG,CAACT,IAAJ,EAAP,CAAkB,CADlC,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAE,CAAA,MAAI,CAACC,QAAL,CAAc,CAAChB,KAAK,CAACe,IAAP,CAAd,CAAF,EAFd,EAGH,C,uCAoCQ,iBACL,GAAIf,CAAAA,KAAK,CAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBwB,GAAjB,CAAqB,SAACC,IAAD,CAAMC,CAAN,QACzB,qBAAC,IAAD,EACI,GAAG,CAAEA,CADT,CAEI,EAAE,CAAED,IAAI,CAACH,EAFb,CAGI,KAAK,CAAEG,IAAI,CAACE,KAHhB,CAII,OAAO,CAAEF,IAAI,CAACG,OAJlB,CAKI,UAAU,CAAE,MAAI,CAACX,UALrB,EADyB,EAArB,CAAZ,CASA,MACI,yCACKjB,KADL,CAEI,wCAFJ,CAGI,oBAAC,SAAD,EACI,aAAa,CAAE,KAAKG,aADxB,EAHJ,CADJ,CASH,C,sBA/DwBP,KAAK,CAACiC,S","sourcesContent":["import React from \"react\";\nimport Blog from \"./Blog.js\";\nimport BlogAdmin from \"./BlogAdmin.js\";\nimport \"../Syling/Styling.css\";\n\nexport default class extends React.Component {\n    state = {\n        posts: []\n    }\n    componentDidMount() {\n        fetch('/api/blog/')\n            .then(res=>{return res.json()})\n            .then(data=>this.setState({posts:data}));\n    }\n    getLastIndexOfPosts=()=>{\n        return this.state.posts[this.state.posts.length-1]\n    }\n    createNewPost=(postObject)=>{\n        const posts = {\n            ...this.state.posts,\n            postObject\n        }\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(postObject)\n        };\n        fetch('api/blog/add', requestOptions)\n            // .then(response=>{\n            //     if(response.status !==200){\n            //         console.log(\"there is a problem yukka\");\n            //         return;\n            //     }\n            //     console.log(response);\n            // })\n            \n            .then(response => response.json())\n            .then(data=>this.setState({posts:data}))\n    }\n    deletePost=(post_id)=>{\n        const newState = this.state.posts.filter(x=>x.id !== post_id);\n        const requestOptions={\n            method:'DELETE',\n            headers:{'Content-type':'application/json'},\n            body:JSON.stringify({id:post_id})\n        }\n        fetch('api/blog',requestOptions)\n            .then(this.setState({posts:newState}))\n    }\n    render() {\n        let posts = this.state.posts.map((post,i) =>\n                <Blog\n                    key={i}\n                    id={post.id}\n                    title={post.title}\n                    content={post.content}\n                    deletePost={this.deletePost}\n                />\n            );\n        return (\n            <>\n                {posts}\n                <p>fuck you</p>\n                <BlogAdmin\n                    createNewPost={this.createNewPost}\n                />\n            </>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}